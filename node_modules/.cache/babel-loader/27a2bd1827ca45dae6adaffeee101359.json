{"ast":null,"code":"import { profileAPI, usersAPI } from \"../api/api\";\nconst ADD_POST = 'ADD-POST';\nconst NEW_POST_TEXT = 'NEW-POST-TEXT';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_STATUS = 'SET_STATUS';\nconst UPDATE_USER_STATUS = 'UPDATE_USER_STATUS';\nconst initialState = {\n  postData: [{\n    name: 'Eduarda',\n    message: 'Hello',\n    likes: '15'\n  }, {\n    name: 'Artiom',\n    message: 'Good morning',\n    likes: '20'\n  }],\n  newTextValue: '',\n  profile: null,\n  status: ''\n}; // export type InitialStateType = typeof initialState\n\nexport const profileReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_POST:\n      {\n        const newPost = {\n          name: 'Alex',\n          message: action.postMessage,\n          likes: '10'\n        };\n        return { ...state,\n          newTextValue: '',\n          postData: [...state.postData, newPost]\n        };\n      }\n\n    case NEW_POST_TEXT:\n      {\n        return { ...state,\n          newTextValue: action.newText\n        };\n      }\n\n    case SET_USER_PROFILE:\n      {\n        return { ...state,\n          profile: action.profile\n        };\n      }\n\n    case SET_STATUS:\n      {\n        return { ...state,\n          status: action.status\n        };\n      }\n\n    case UPDATE_USER_STATUS:\n      {\n        return { ...state,\n          status: action.status\n        };\n      }\n\n    default:\n      return state;\n  }\n};\nexport const AddPostAC = newTextValue => {\n  return {\n    type: ADD_POST,\n    postMessage: newTextValue\n  };\n};\n_c = AddPostAC;\nexport const NewPostText = newText => {\n  return {\n    type: NEW_POST_TEXT,\n    newText: newText\n  };\n};\n_c2 = NewPostText;\nexport const setUserProfile = profile => {\n  return {\n    type: SET_USER_PROFILE,\n    profile: profile\n  };\n};\nexport const setUserStatus = status => {\n  return {\n    type: SET_STATUS,\n    status: status\n  };\n};\nexport const updateStatus = status => {\n  return {\n    type: UPDATE_USER_STATUS,\n    status: status\n  };\n};\nexport const getUserProfile = userId => {\n  return dispatch => {\n    usersAPI.getProfile(userId).then(response => {\n      dispatch(setUserProfile(response.data));\n    });\n  };\n};\nexport const getUserStatus = userId => {\n  return dispatch => {\n    profileAPI.getStatus(userId).then(response => {\n      dispatch(setUserStatus(response.data));\n    });\n  };\n};\nexport const updateUserStatus = status => {\n  return dispatch => {\n    profileAPI.updateStatus(status).then(response => {\n      if (response.data.resultCode === 0) {\n        dispatch(setUserStatus(status));\n      }\n    });\n  };\n};\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AddPostAC\");\n$RefreshReg$(_c2, \"NewPostText\");","map":{"version":3,"sources":["/Users/eduardanaida/Documents/GitHub/-samurai-way/samurai-way/src/redux/profileReducer.ts"],"names":["profileAPI","usersAPI","ADD_POST","NEW_POST_TEXT","SET_USER_PROFILE","SET_STATUS","UPDATE_USER_STATUS","initialState","postData","name","message","likes","newTextValue","profile","status","profileReducer","state","action","type","newPost","postMessage","newText","AddPostAC","NewPostText","setUserProfile","setUserStatus","updateStatus","getUserProfile","userId","dispatch","getProfile","then","response","data","getUserStatus","getStatus","updateUserStatus","resultCode"],"mappings":"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","sourcesContent":["import {Dispatch} from \"redux\";\nimport {profileAPI, usersAPI} from \"../api/api\";\n\nexport type ProfileReducersActionType =\n    | ReturnType<typeof AddPostAC>\n    | ReturnType<typeof NewPostText>\n    | ReturnType<typeof setUserProfile>\n    | ReturnType<typeof setUserStatus>\n    | ReturnType<typeof updateStatus>\n\n\nconst ADD_POST = 'ADD-POST';\nconst NEW_POST_TEXT = 'NEW-POST-TEXT';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_STATUS = 'SET_STATUS';\nconst UPDATE_USER_STATUS = 'UPDATE_USER_STATUS';\n\nexport type PostData = {\n    name: string\n    message: string\n    likes: string\n}\nexport type ProfilePageType = {\n    postData: Array<PostData>\n    newTextValue: string\n    profile: ProfileType | null\n    status: string\n}\n\nexport type ProfileType = {\n    lookingForAJobDescription: string,\n    photos: {\n        small: string | undefined,\n        large: string | undefined\n    }\n}\n\nconst initialState: ProfilePageType = {\n    postData: [\n        {name: 'Eduarda', message: 'Hello', likes: '15'},\n        {name: 'Artiom', message: 'Good morning', likes: '20'}\n    ],\n    newTextValue: '',\n    profile: null,\n    status: ''\n}\n\n// export type InitialStateType = typeof initialState\n\nexport const profileReducer = (state: ProfilePageType = initialState, action: ProfileReducersActionType): ProfilePageType => {\n\n    switch (action.type) {\n        case ADD_POST: {\n            const newPost: PostData = {\n                name: 'Alex',\n                message: action.postMessage,\n                likes: '10',\n            }\n\n            return {\n                ...state,\n                newTextValue: '',\n                postData: [...state.postData, newPost]\n            };\n        }\n        case NEW_POST_TEXT: {\n            return {\n                ...state,\n                newTextValue: action.newText\n            };\n        }\n        case SET_USER_PROFILE: {\n            return {\n                ...state,\n                profile: action.profile\n            }\n        }\n        case SET_STATUS: {\n            return {\n                ...state,\n                status: action.status\n            }\n        }\n        case UPDATE_USER_STATUS: {\n            return {\n                ...state,\n                status: action.status\n            }\n        }\n        default:\n            return state;\n    }\n};\n\nexport const AddPostAC = (newTextValue: string) => {\n    return {\n        type: ADD_POST,\n        postMessage: newTextValue\n    } as const\n}\n\nexport const NewPostText = (newText: string) => {\n    return {\n        type: NEW_POST_TEXT,\n        newText: newText\n    } as const\n}\n\nexport const setUserProfile = (profile: any) => {\n    return {\n        type: SET_USER_PROFILE,\n        profile: profile\n    } as const\n}\n\nexport const setUserStatus = (status: string) => {\n    return {\n        type: SET_STATUS,\n        status: status\n    } as const\n}\n\nexport const updateStatus = (status: string) => {\n    return {\n        type: UPDATE_USER_STATUS,\n        status: status\n    } as const\n}\n\nexport const getUserProfile = (userId: string) => {\n    return (dispatch: Dispatch) => {\n        usersAPI.getProfile(userId)\n            .then(response => {\n                dispatch(setUserProfile(response.data));\n            });\n    }\n}\n\nexport const getUserStatus = (userId: string) => {\n    return (dispatch: Dispatch) => {\n        profileAPI.getStatus(userId)\n            .then(response => {\n                dispatch(setUserStatus(response.data))\n            })\n    }\n}\n\nexport const updateUserStatus = (status: string) => {\n    return (dispatch: Dispatch) => {\n        profileAPI.updateStatus(status)\n            .then(response => {\n                if (response.data.resultCode === 0) {\n                    dispatch(setUserStatus(status))\n                }\n            })\n    }\n}"]},"metadata":{},"sourceType":"module"}