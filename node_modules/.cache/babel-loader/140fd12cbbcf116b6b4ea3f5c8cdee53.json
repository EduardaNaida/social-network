{"ast":null,"code":"import _slicedToArray from\"/Users/eduardanaida/Documents/GitHub/social-network/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import style from\"./ProfileStatus.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfileStatus=function ProfileStatus(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editMode=_useState2[0],setEditMode=_useState2[1];var _useState3=useState(props.status),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){setStatus(props.status);},[props.status]);var activateMode=function activateMode(){setEditMode(true);};var deactivateMode=function deactivateMode(){if(status.length>30){setError('Status should be less than 30 symbols');}else{setEditMode(false);setError('');props.updateStatus(status);}};var onChangeHandler=function onChangeHandler(e){setStatus(e.currentTarget.value);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:style.statusText,children:[\"Status:\",/*#__PURE__*/_jsxs(\"div\",{className:style.status,children:[props.isOwner?!editMode&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{onClick:activateMode,children:props.status||'No status'})}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{children:props.status||'No status'})}),props.isOwner&&editMode&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{onChange:onChangeHandler,onBlur:deactivateMode,value:status,className:style.input})}),/*#__PURE__*/_jsx(\"div\",{className:style.error,children:/*#__PURE__*/_jsx(\"span\",{children:error})})]})]})});};export default ProfileStatus;","map":{"version":3,"sources":["/Users/eduardanaida/Documents/GitHub/social-network/src/components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.tsx"],"names":["React","useEffect","useState","style","ProfileStatus","props","editMode","setEditMode","status","setStatus","error","setError","activateMode","deactivateMode","length","updateStatus","onChangeHandler","e","currentTarget","value","statusText","isOwner","input"],"mappings":"yIAAA,MAAOA,CAAAA,KAAP,EAA4BC,SAA5B,CAAuCC,QAAvC,KAAsD,OAAtD,CACA,MAAOC,CAAAA,KAAP,KAAkB,4BAAlB,C,wFAQA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAA8B,CAElD,cAAgCH,QAAQ,CAAC,KAAD,CAAxC,wCAAOI,QAAP,eAAiBC,WAAjB,eACA,eAA4BL,QAAQ,CAACG,KAAK,CAACG,MAAP,CAApC,yCAAOA,MAAP,eAAeC,SAAf,eACA,eAA0BP,QAAQ,CAAC,EAAD,CAAlC,yCAAOQ,KAAP,eAAcC,QAAd,eAEAV,SAAS,CAAC,UAAM,CACdQ,SAAS,CAACJ,KAAK,CAACG,MAAP,CAAT,CACD,CAFQ,CAEN,CAACH,KAAK,CAACG,MAAP,CAFM,CAAT,CAIA,GAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBL,WAAW,CAAC,IAAD,CAAX,CACD,CAFD,CAIA,GAAMM,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,GAAIL,MAAM,CAACM,MAAP,CAAgB,EAApB,CAAwB,CACtBH,QAAQ,CAAC,uCAAD,CAAR,CACD,CAFD,IAEO,CACLJ,WAAW,CAAC,KAAD,CAAX,CACAI,QAAQ,CAAC,EAAD,CAAR,CACAN,KAAK,CAACU,YAAN,CAAmBP,MAAnB,EACD,CACF,CARD,CAUA,GAAMQ,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,CAAD,CAAsC,CAC5DR,SAAS,CAACQ,CAAC,CAACC,aAAF,CAAgBC,KAAjB,CAAT,CACD,CAFD,CAIA,mBACE,kCACE,aAAK,SAAS,CAAEhB,KAAK,CAACiB,UAAtB,kCACE,aAAK,SAAS,CAAEjB,KAAK,CAACK,MAAtB,WACGH,KAAK,CAACgB,OAAN,CAAgB,CAACf,QAAD,eACb,kCACI,aAAM,OAAO,CAAEM,YAAf,UAA8BP,KAAK,CAACG,MAAN,EAAgB,WAA9C,EADJ,EADH,cAIG,kCACA,sBAAOH,KAAK,CAACG,MAAN,EAAgB,WAAvB,EADA,EALN,CASGH,KAAK,CAACgB,OAAN,EAAiBf,QAAjB,eACG,kCACI,cAAO,QAAQ,CAAEU,eAAjB,CACO,MAAM,CAAEH,cADf,CAEO,KAAK,CAAEL,MAFd,CAGO,SAAS,CAAEL,KAAK,CAACmB,KAHxB,EADJ,EAVN,cAkBE,YAAK,SAAS,CAAEnB,KAAK,CAACO,KAAtB,uBACE,sBAAOA,KAAP,EADF,EAlBF,GADF,GADF,EADF,CA4BD,CAxDD,CA0DA,cAAeN,CAAAA,aAAf","sourcesContent":["import React, {ChangeEvent, useEffect, useState} from 'react';\nimport style from \"./ProfileStatus.module.css\"\n\ntype ProfileStatusType = {\n  status: string\n  updateStatus: (status: string) => void\n  isOwner: boolean\n}\n\nconst ProfileStatus = (props: ProfileStatusType) => {\n\n  const [editMode, setEditMode] = useState(false);\n  const [status, setStatus] = useState(props.status);\n  const [error, setError] = useState('')\n\n  useEffect(() => {\n    setStatus(props.status)\n  }, [props.status])\n\n  const activateMode = () => {\n    setEditMode(true)\n  }\n\n  const deactivateMode = () => {\n    if (status.length > 30) {\n      setError('Status should be less than 30 symbols')\n    } else {\n      setEditMode(false)\n      setError('')\n      props.updateStatus(status)\n    }\n  }\n\n  const onChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\n    setStatus(e.currentTarget.value)\n  }\n\n  return (\n    <div>\n      <div className={style.statusText}>Status:\n        <div className={style.status}>\n          {props.isOwner ? !editMode &&\n              <div>\n                  <span onClick={activateMode}>{props.status || 'No status'}</span>\n              </div>\n            : <div>\n              <span>{props.status || 'No status'}</span>\n            </div>\n          }\n          {props.isOwner && editMode &&\n              <div>\n                  <input onChange={onChangeHandler}\n                         onBlur={deactivateMode}\n                         value={status}\n                         className={style.input}\n                  />\n              </div>\n          }\n          <div className={style.error}>\n            <span>{error}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileStatus;"]},"metadata":{},"sourceType":"module"}