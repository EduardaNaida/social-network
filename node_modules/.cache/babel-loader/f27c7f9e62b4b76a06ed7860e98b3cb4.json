{"ast":null,"code":"import _slicedToArray from\"/Users/eduardanaida/Documents/GitHub/social-network/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import style from\"./ProfileInfo.module.css\";import Preloader from\"../../common/preloader/Preloder\";import ProfileStatus from\"./ProfileStatus/ProfileStatus\";import avatar from\"../../../assets/images/avatar.png\";import{BasicModal}from\"../../common/basicModal/basicModal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ProfileInfo=function ProfileInfo(_ref){var profile=_ref.profile,status=_ref.status,updateStatus=_ref.updateStatus,saveProfile=_ref.saveProfile,isOwner=_ref.isOwner,savePhoto=_ref.savePhoto;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editMode=_useState2[0],setEditMode=_useState2[1];var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),img=_React$useState2[0],setImg=_React$useState2[1];if(!profile){return/*#__PURE__*/_jsx(Preloader,{});}var onSubmit=function onSubmit(formData){saveProfile(formData).then(function(){setEditMode(false);});};var onSelectedPhoto=function onSelectedPhoto(e){if(e.target.files&&e.target.files.length){console.log(e.target.files[0]);savePhoto(e.target.files[0]);}};return/*#__PURE__*/_jsxs(\"div\",{className:style.profileHeader,children:[/*#__PURE__*/_jsx(\"div\",{className:style.backGroundImg,children:/*#__PURE__*/_jsx(\"div\",{className:style.pageCover})}),/*#__PURE__*/_jsxs(\"div\",{className:style.profileInfo,children:[/*#__PURE__*/_jsx(\"div\",{className:style.avatarWrapper,children:/*#__PURE__*/_jsxs(\"div\",{className:style.profileHeaderAva,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file-input\",children:/*#__PURE__*/_jsx(\"img\",{src:profile.photos.large||avatar,alt:\"profile\",className:style.avatar})}),isOwner&&/*#__PURE__*/_jsx(\"input\",{id:\"file-input\",type:\"file\",onChange:onSelectedPhoto,style:{display:'none'}})]})}),/*#__PURE__*/_jsx(\"div\",{className:style.profileHeaderWrapper}),/*#__PURE__*/_jsxs(\"div\",{className:style.infoAboutUser,children:[/*#__PURE__*/_jsx(\"div\",{className:style.name,children:/*#__PURE__*/_jsx(\"div\",{className:style.info,children:profile.fullName})}),/*#__PURE__*/_jsx(ProfileStatus,{status:status,updateStatus:updateStatus})]}),/*#__PURE__*/_jsx(\"div\",{className:style.basicModal,children:/*#__PURE__*/_jsx(BasicModal,{profile:profile,onSubmit:onSubmit,status:status,updateStatus:updateStatus,callback:function callback(){setEditMode(true);},isOwner:isOwner,editMode:editMode})})]})]});};","map":{"version":3,"sources":["/Users/eduardanaida/Documents/GitHub/social-network/src/components/Profile/ProfileInfo/ProfileInfo.tsx"],"names":["React","useState","style","Preloader","ProfileStatus","avatar","BasicModal","ProfileInfo","profile","status","updateStatus","saveProfile","isOwner","savePhoto","editMode","setEditMode","img","setImg","onSubmit","formData","then","onSelectedPhoto","e","target","files","length","console","log","profileHeader","backGroundImg","pageCover","profileInfo","avatarWrapper","profileHeaderAva","photos","large","display","profileHeaderWrapper","infoAboutUser","name","info","fullName","basicModal"],"mappings":"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","sourcesContent":["import React, {ChangeEvent, FC, useState} from 'react';\nimport style from \"./ProfileInfo.module.css\";\nimport Preloader from \"../../common/preloader/Preloder\";\nimport {ProfileType} from \"../../../redux/profileReducer\";\nimport ProfileStatus from \"./ProfileStatus/ProfileStatus\";\nimport avatar from \"../../../assets/images/avatar.png\";\nimport {ProfileRequestType} from \"../../../api/api\";\nimport {BasicModal} from \"../../common/basicModal/basicModal\";\n\ntype ProfileInfoType = {\n  profile: ProfileType | null\n  status: string\n  updateStatus: (status: string) => void\n  saveProfile: (profile: ProfileRequestType) => Promise<any>\n  isOwner: boolean\n  savePhoto: (file: File) => void\n}\n\n\nexport const ProfileInfo: FC<ProfileInfoType> = ({profile, status, updateStatus, saveProfile, isOwner, savePhoto}) => {\n\n  const [editMode, setEditMode] = useState(false);\n  const [img, setImg] = React.useState<string | undefined>()\n\n  if (!profile) {\n    return <Preloader/>\n  }\n\n  const onSubmit = (formData: ProfileRequestType) => {\n    saveProfile(formData).then(() => {\n      setEditMode(false)\n    })\n  }\n\n  const onSelectedPhoto = (e: ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files.length) {\n      console.log(e.target.files[0])\n      savePhoto(e.target.files[0]);\n    }\n  }\n\n  return (\n    <div className={style.profileHeader}>\n      <div className={style.backGroundImg}>\n        <div className={style.pageCover}></div>\n      </div>\n      <div className={style.profileInfo}>\n        <div className={style.avatarWrapper}>\n          <div className={style.profileHeaderAva}>\n            <label htmlFor=\"file-input\">\n              <img src={profile.photos.large || avatar} alt=\"profile\" className={style.avatar}/>\n            </label>\n            {isOwner && <input id='file-input' type=\"file\" onChange={onSelectedPhoto} style={{display: 'none'}}/>}\n          </div>\n        </div>\n        <div className={style.profileHeaderWrapper}>\n        </div>\n\n        <div className={style.infoAboutUser}>\n          <div className={style.name}>\n            <div className={style.info}>\n              {profile.fullName}\n            </div>\n          </div>\n          <ProfileStatus status={status} updateStatus={updateStatus}/>\n        </div>\n\n        <div className={style.basicModal}>\n          <BasicModal profile={profile} onSubmit={onSubmit} status={status} updateStatus={updateStatus}\n                      callback={() => {\n                        setEditMode(true)\n                      }} isOwner={isOwner}\n                      editMode={editMode}/>\n        </div>\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}